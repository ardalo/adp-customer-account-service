replicaCount: 1
rollingUpdateMaxSurge: 1
rollingUpdateMaxUnavailable: 1

image:
  repository: ardalo/adp-customer-account-service
  tag: latest
  pullPolicy: Always

app:
  internalPort: 8080
  minMemory: 700Mi
  maxMemory: 1Gi
  minCpu: 100m
  maxCpu: 300m
  livenessProbe:
    initialDelaySeconds: 60
    periodSeconds: 30
    path: /alive
    port: 8080
  readinessProbe:
    initialDelaySeconds: 60
    periodSeconds: 10
    path: /ready
    port: 8080

service:
  externalPort: 80

ingress:
  className: traefik
  routes:
    - id: login
      match: Path(`/login`)
      pathRewrite:
        regex: ^/login$
        replacement: /api/pages/login
    - id: register
      match: Path(`/register`)
      pathRewrite:
        regex: ^/register
        replacement: /api/pages/register
    - id: my-account
      match: Path(`/my/account`)
      pathRewrite:
        regex: ^/my\/account$
        replacement: /api/pages/my-account
    - id: global-404
      match: PathPrefix(`/`)
      priority: 1
      pathRewrite:
        regex: ^/(.*)
        replacement: /api/pages/404
